<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apartment A-101 - BÁN.NHÀ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/styles.css">
    <th:block layout:fragment="css">
        <style>
            .apartment-header {
                background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('/css/image.png');
                background-size: cover;
                background-position: center;
                padding: 6rem 0;
                color: white;
                position: relative;
            }

            .apartment-title {
                font-size: 2.5rem;
                font-weight: 600;
                margin-bottom: 1rem;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }

            .feature-card {
                background: #f8f9fa;
                padding: 1.5rem;
                border-radius: 8px;
                margin-bottom: 1rem;
                transition: transform 0.3s ease;
            }

            .feature-card:hover {
                transform: translateY(-5px);
            }

            .feature-icon {
                font-size: 2rem;
                color: #3498db;
                margin-bottom: 1rem;
            }

            .feature-title {
                font-weight: 600;
                color: #2c3e50;
                margin-bottom: 0.5rem;
            }

            .gallery-img {
                width: 100%;
                height: 300px;
                object-fit: cover;
                border-radius: 8px;
                margin-bottom: 1rem;
            }

            .thumbnail {
                width: 100%;
                height: 100px;
                object-fit: cover;
                border-radius: 4px;
                cursor: pointer;
                transition: opacity 0.3s ease;
            }

            .thumbnail:hover {
                opacity: 0.8;
            }

            .amenity-list {
                list-style: none;
                padding: 0;
            }

            .amenity-item {
                display: flex;
                align-items: center;
                margin-bottom: 1rem;
                padding: 1rem;
                background: #f8f9fa;
                border-radius: 8px;
            }

            .amenity-icon {
                font-size: 1.5rem;
                color: #3498db;
                margin-right: 1rem;
            }

            .contact-form {
                background: white;
                padding: 2rem;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                position: sticky;
                top: 2rem;
            }

            .price-tag {
                font-size: 2rem;
                font-weight: 600;
                color: #3498db;
                margin-bottom: 1.5rem;
            }
        </style>
    </th:block>
</head>
<body>
    <div layout:fragment="content">
        <header class="custom-nav">
            <a href="/" style="text-decoration: none; color: inherit;">
                <div class="logo">BÁN.NHÀ</div>
            </a>
            <nav>
                <a href="/apartments">Buy</a>
                <a href="/sell">Sell</a>
                <a href="#">Lease</a>
                <a href="/our-agent">Our Agents</a>
                <a href="/login.html" class="btn">Login</a>
            </nav>
        </header>

        <!-- Apartment Header -->
        <section class="apartment-header">
            <div class="container">
                <h1 class="apartment-title" th:text="${'Apartment ' + apartment.apartmentNumber}">Apartment A-101</h1>
                <p class="lead" th:text="${apartment.building != null ? apartment.building.address : 'Address not available'}">Landmark 81, 720A Dien Bien Phu, Binh Thanh District, Ho Chi Minh City</p>
                <div class="d-flex gap-4">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-door-open me-2"></i>
                        <span th:text="${apartment.bedrooms + ' Bedrooms'}">3 Bedrooms</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="bi bi-water me-2"></i>
                        <span th:text="${apartment.bathrooms + ' Bathrooms'}">2 Bathrooms</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="bi bi-arrows-angle-expand me-2"></i>
                        <span>120 m²</span>
                    </div>
                </div>
            </div>
        </section>

        <div class="container my-5">
            <div class="row">
                <!-- Left Column - Apartment Details -->
                <div class="col-lg-8">
                    <!-- Main Features -->
                    <section class="mb-5">
                        <h2 class="mb-4">Main Features</h2>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="feature-card text-center">
                                    <i class="bi bi-door-open feature-icon"></i>
                                    <h3 class="feature-title" th:text="${apartment.bedrooms}">3</h3>
                                    <p>Bedrooms</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="feature-card text-center">
                                    <i class="bi bi-water feature-icon"></i>
                                    <h3 class="feature-title" th:text="${apartment.bathrooms}">2</h3>
                                    <p>Bathrooms</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="feature-card text-center">
                                    <i class="bi bi-arrows-angle-expand feature-icon"></i>
                                    <h3 class="feature-title">120m²</h3>
                                    <p>Living Area</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Description -->
                    <section class="mb-5">
                        <h2 class="mb-4">Description</h2>
                        <p>Welcome to this stunning apartment in Landmark 81, the most prestigious residential building in Ho Chi Minh City. This thoughtfully designed space offers the perfect blend of comfort and sophistication, featuring:</p>
                        <ul>
                            <li>Spacious living area with panoramic city views</li>
                            <li>Modern kitchen with high-end appliances</li>
                            <li>Master bedroom with en-suite bathroom</li>
                            <li>Two additional well-appointed bedrooms</li>
                            <li>Premium fixtures and fittings throughout</li>
                            <li>Floor-to-ceiling windows providing abundant natural light</li>
                            <li>Private balcony with stunning city views</li>
                        </ul>
                    </section>

                    <!-- Photo Gallery -->
                    <section class="mb-5">
                        <h2 class="mb-4">Photo Gallery</h2>
                        <div th:if="${photos != null and !photos.isEmpty()}">
                            <img th:src="@{${photos[0].photoUrl}}" class="gallery-img" alt="Main Photo">
                            <div class="row g-2 mt-2">
                                <div class="col-3" th:each="photo, iterStat : ${photos}" th:if="${iterStat.index > 0}">
                                    <img th:src="@{${photo.photoUrl}}" class="thumbnail" alt="Apartment Photo">
                                </div>
                            </div>
                        </div>
                        <div th:if="${photos == null or photos.isEmpty()}">
                            <img src="/css/image.png" class="gallery-img" alt="No Photo">
                        </div>
                        <div>Số ảnh: <span th:text="${#lists.size(photos)}"></span></div>
                    </section>

                    <!-- Amenities -->
                    <section class="mb-5">
                        <h2 class="mb-4">Building Amenities</h2>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="amenity-list">
                                    <li class="amenity-item">
                                        <i class="bi bi-water amenity-icon"></i>
                                        <span>Swimming Pool</span>
                                    </li>
                                    <li class="amenity-item">
                                        <i class="bi bi-bicycle amenity-icon"></i>
                                        <span>Fitness Center</span>
                                    </li>
                                    <li class="amenity-item">
                                        <i class="bi bi-shield-check amenity-icon"></i>
                                        <span>24/7 Security</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="amenity-list">
                                    <li class="amenity-item">
                                        <i class="bi bi-p-square amenity-icon"></i>
                                        <span>Parking Space</span>
                                    </li>
                                    <li class="amenity-item">
                                        <i class="bi bi-shop amenity-icon"></i>
                                        <span>Shopping Mall</span>
                                    </li>
                                    <li class="amenity-item">
                                        <i class="bi bi-tree amenity-icon"></i>
                                        <span>Garden Area</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Location -->
                    <section class="mb-5">
                        <h2 class="mb-4">Location</h2>
                        <div class="ratio ratio-16x9">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.2332612247287!2d106.72136661533445!3d10.79528016196141!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x317527c2f8f30911%3A0x36ac5073f8c91acd!2sLandmark%2081!5e0!3m2!1sen!2s!4v1647831234567!5m2!1sen!2s" 
                                    style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                        </div>
                    </section>
                </div>

                <!-- Right Column - Contact Form -->
                <div class="col-lg-4">
                    <div class="contact-form">
                        <div class="price-tag text-center">$1,200,000</div>
                        <form>
                            <div class="mb-3">
                                <label for="name" class="form-label">Your Name</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone</label>
                                <input type="tel" class="form-control" id="phone" required>
                            </div>
                            <div class="mb-3">
                                <label for="message" class="form-label">Message</label>
                                <textarea class="form-control" id="message" rows="4" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Contact Agent</button>
                            <button type="button" class="btn btn-outline-primary w-100 mt-2" data-bs-toggle="modal" data-bs-target="#scheduleModal">
                                Schedule Viewing
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Schedule Viewing Modal -->
        <div class="modal fade" id="scheduleModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Schedule a Viewing</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <form id="scheduleForm">
                            <div class="mb-3">
                                <label for="viewing-date" class="form-label">Preferred Date</label>
                                <input type="date" class="form-control" id="viewing-date" required>
                            </div>
                            <div class="mb-3">
                                <label for="viewing-time" class="form-label">Preferred Time</label>
                                <input type="time" class="form-control" id="viewing-time" required>
                            </div>
                            <div class="mb-3">
                                <label for="schedule-name" class="form-label">Your Name</label>
                                <input type="text" class="form-control" id="schedule-name" required>
                            </div>
                            <div class="mb-3">
                                <label for="schedule-email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="schedule-email" required>
                            </div>
                            <div class="mb-3">
                                <label for="schedule-phone" class="form-label">Phone</label>
                                <input type="tel" class="form-control" id="schedule-phone" required>
                            </div>
                            <div class="mb-3">
                                <label for="schedule-notes" class="form-label">Additional Notes</label>
                                <textarea class="form-control" id="schedule-notes" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Schedule Viewing</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; BÁN.NHÀ 2025</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <th:block layout:fragment="scripts">
        <script>
            // Handle schedule form submission
            document.getElementById('scheduleForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Collect form data
                const formData = {
                    date: document.getElementById('viewing-date').value,
                    time: document.getElementById('viewing-time').value,
                    name: document.getElementById('schedule-name').value,
                    email: document.getElementById('schedule-email').value,
                    phone: document.getElementById('schedule-phone').value,
                    notes: document.getElementById('schedule-notes').value
                };
                
                // For now, just show an alert
                console.log('Scheduling details:', formData);
                alert('Viewing scheduled successfully! We will contact you shortly.');
                
                // Close the modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('scheduleModal'));
                modal.hide();
                
                // Reset the form
                this.reset();
            });
        </script>
    </th:block>
</body>
</html> 